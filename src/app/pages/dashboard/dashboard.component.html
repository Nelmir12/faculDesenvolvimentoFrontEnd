<h2>Dashboard</h2>

<div class="kpis">
  <div class="kpi">
    <h3>Total</h3>
    <p>{{ total }}</p>
  </div>

  <div class="kpi">
    <h3>Pendentes</h3>
    <p>{{ pendentes }}</p>
  </div>

  <div class="kpi">
    <h3>Concluídas</h3>
    <p>{{ concluidas }}</p>
  </div>
</div>

<h3>Próximas tarefas</h3>

<table *ngIf="proximas.length > 0">
  <thead>
    <tr>
      <th>Título</th>
      <th>Disciplina</th>
      <th>Entrega</th>
      <th>Status</th>
    </tr>
  </thead>

  <tbody>
    <tr *ngFor="let t of proximas">
      <td>{{ t.title }}</td>
      <td>{{ getSubjectName(t.subjectId) }}</td>
      <td>{{ t.dueDate | date:'shortDate' }}</td>
      <td>
        <span [ngClass]="{
          'yellow': t.status === 'pendente',
          'green': t.status === 'concluida'
        }">
          {{ t.status }}
        </span>
      </td>
    </tr>
  </tbody>
</table>

<p *ngIf="proximas.length === 0">Nenhuma tarefa cadastrada.</p>
