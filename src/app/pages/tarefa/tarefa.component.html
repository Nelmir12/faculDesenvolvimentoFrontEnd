<div class="tarefa-container" *ngIf="!loading">

  <h2>Editar Tarefa</h2>

  <form [formGroup]="form" (ngSubmit)="salvar()">

    <label>Título</label>
    <input type="text" formControlName="title" />

    <label>Descrição</label>
    <textarea formControlName="description"></textarea>

    <label>Data de entrega</label>
    <input type="date" formControlName="due" />

    <label>Disciplina</label>
    <select formControlName="subjectId">
      <option *ngFor="let s of subjectsCache" [value]="s.id">
        {{ s.name }}
      </option>
    </select>

    <label>Status</label>
    <button type="button" (click)="alternarStatus()">
      {{ form.value.status === 'pendente' ? 'Marcar como concluída' : 'Marcar como pendente' }}
    </button>

    <div class="actions">
      <button type="submit" [disabled]="form.invalid">Salvar</button>
      <button type="button" (click)="cancelar()">Cancelar</button>
    </div>

  </form>

</div>

<div *ngIf="loading" class="loading">Carregando...</div>
<div *ngIf="error" class="error">{{ error }}</div>
